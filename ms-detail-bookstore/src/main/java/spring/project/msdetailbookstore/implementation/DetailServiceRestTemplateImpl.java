package spring.project.msdetailbookstore.implementation;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.web.client.RestTemplate;import spring.project.msdetailbookstore.entity.Book;import spring.project.msdetailbookstore.entity.Detail;import spring.project.msdetailbookstore.service.IDetailService;import java.util.Arrays;import java.util.HashMap;import java.util.List;import java.util.Map;import java.util.stream.Collectors;@Service("serviceRestTemplate")public class DetailServiceRestTemplateImpl implements IDetailService {    @Autowired    private RestTemplate restTemplate;    @Override    public List<Detail> select() {        List<Book> books = Arrays.asList(restTemplate                .getForObject("http://localhost:8001/api/books/select", Book[].class));        List<Detail> details = books.stream()                .map(book -> new Detail(book)).collect(Collectors.toList());        return details;    }    @Override    public Detail get(Long id) {        Map<String, Object> value = new HashMap<>();        value.put("id", id);        Book book = restTemplate.                getForObject("http://localhost:8001/api/books/get/{id}", Book.class, value);        return new Detail(book);    }}